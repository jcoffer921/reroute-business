{% extends "base.html" %}
{% load static %}
{% load json_script %}

{% block title %}ReRoute | Resume Skills{% endblock %}

{% block extra_css %}
  <link rel="stylesheet" href="{% static 'resumes/css/resume_flow.css' %}">
{% endblock %}

{% block content %}
<section class="resume-flow">
  <div class="page-shell">
    {% include "resumes/partials/step_progress.html" %}

    <div class="resume-card">
      <h2>Skills & Strengths</h2>
      <p class="lead">Click a suggestion or add your own with Enter.</p>

      <form method="post" data-autosave-url="{% url 'resumes:resume_skills_autosave' %}">
        {% csrf_token %}

        {% json_script technical_skills "initial-technical" %}
        {% json_script suggested_technical "suggested-technical" %}
        <div data-skill-section="technical" data-initial-id="initial-technical" data-suggested-id="suggested-technical">
          <h3 class="resume-label">
            <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M4 7h16M7 12h10M9 17h6" fill="none" stroke="currentColor" stroke-width="1.6"/></svg>
            Technical / Hard Skills
          </h3>
          <div class="resume-tag-list" data-tag-list></div>
          <input type="hidden" name="technical_skills" data-skill-input value="[]">
          <div class="skill-input-row">
            <input type="text" class="form-control" data-skill-entry placeholder="Type a skill and press Enter">
            <button type="button" class="skill-add-btn">+</button>
          </div>
          <div class="skill-suggest-row">
            <div class="resume-pill-list" data-suggested-list></div>
            <button type="button" class="skill-refresh-btn">Refresh</button>
          </div>
        </div>

        {% json_script soft_skills "initial-soft" %}
        {% json_script suggested_soft "suggested-soft" %}
        <div style="margin-top:24px;" data-skill-section="soft" data-initial-id="initial-soft" data-suggested-id="suggested-soft">
          <h3 class="resume-label">
            <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M12 21s6-4.2 6-9a4 4 0 0 0-6-3 4 4 0 0 0-6 3c0 4.8 6 9 6 9z" fill="none" stroke="currentColor" stroke-width="1.6"/></svg>
            Soft Skills & Strengths
          </h3>
          <div class="resume-tag-list" data-tag-list></div>
          <input type="hidden" name="soft_skills" data-skill-input value="[]">
          <div class="skill-input-row">
            <input type="text" class="form-control" data-skill-entry placeholder="Type a strength and press Enter">
            <button type="button" class="skill-add-btn">+</button>
          </div>
          <div class="skill-suggest-row">
            <div class="resume-pill-list" data-suggested-list></div>
            <button type="button" class="skill-refresh-btn">Refresh</button>
          </div>
        </div>

        <div class="resume-step-footer">
          <a href="{% url 'resumes:resume_experience_step' %}" class="resume-btn secondary">Back</a>
          <div>
            <span class="resume-saved" data-saved-text></span>
            <button type="submit" class="resume-btn primary">Continue</button>
          </div>
        </div>
      </form>
    </div>
  </div>
</section>

<script src="{% static 'resumes/js/resume_autosave.js' %}"></script>
<script src="{% static 'resumes/js/skills_step.js' %}"></script>
{% endblock %}
