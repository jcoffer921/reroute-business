{% extends "base.html" %}
{% load static %}

{% block body_class %}admin-console{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'dashboard/css/admin_console.css' %}">
{% endblock %}

{% block content %}
<div class="admin-shell">
  <aside class="admin-sidebar">
    <div class="admin-sidebar-header">
      <span class="admin-sidebar-title">Operations</span>
      <span class="admin-sidebar-subtitle">ReRoute Admin</span>
    </div>
    <nav class="admin-nav">
      {% with active=request.resolver_match.url_name %}
      <a class="admin-nav-link {% if active == 'admin' %}active{% endif %}" href="{% url 'admin_portal:dashboard' %}">
        <span class="nav-icon" aria-hidden="true">
          <svg viewBox="0 0 24 24"><rect x="3" y="3" width="8" height="8"/><rect x="13" y="3" width="8" height="8"/><rect x="3" y="13" width="8" height="8"/><rect x="13" y="13" width="8" height="8"/></svg>
        </span>
        Dashboard
      </a>
      <a class="admin-nav-link" href="{% url 'admin_portal:user_list' %}">
        <span class="nav-icon" aria-hidden="true">
          <svg viewBox="0 0 24 24"><circle cx="12" cy="8" r="4"/><path d="M4 20c0-4 4-6 8-6s8 2 8 6"/></svg>
        </span>
        Users
      </a>
      <a class="admin-nav-link" href="{% url 'admin_portal:employer_list' %}">
        <span class="nav-icon" aria-hidden="true">
          <svg viewBox="0 0 24 24"><rect x="4" y="3" width="16" height="18" rx="2"/><path d="M8 7h8M8 11h8M8 15h6"/></svg>
        </span>
        Employers
      </a>
      <a class="admin-nav-link {% if active == 'admin_jobs_manage' %}active{% endif %}" href="{% url 'admin_portal:job_list' %}">
        <span class="nav-icon" aria-hidden="true">
          <svg viewBox="0 0 24 24"><rect x="3" y="7" width="18" height="13" rx="2"/><path d="M8 7V5a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/></svg>
        </span>
        Jobs
      </a>
      <a class="admin-nav-link {% if active == 'admin_applications_manage' %}active{% endif %}" href="{% url 'admin_portal:application_list' %}">
        <span class="nav-icon" aria-hidden="true">
          <svg viewBox="0 0 24 24"><rect x="5" y="3" width="14" height="18" rx="2"/><path d="M8 7h8M8 11h8M8 15h5"/></svg>
        </span>
        Applications
      </a>
      <a class="admin-nav-link" href="{% url 'admin_portal:org_list' %}">
        <span class="nav-icon" aria-hidden="true">
          <svg viewBox="0 0 24 24"><path d="M6 21V5a2 2 0 0 1 2-2h6l4 4v14"/><path d="M14 3v4h4"/></svg>
        </span>
        Reentry Organizations
      </a>
      <a class="admin-nav-link" href="{% url 'admin_portal:content_list' %}">
        <span class="nav-icon" aria-hidden="true">
          <svg viewBox="0 0 24 24"><path d="M4 4h14a2 2 0 0 1 2 2v12"/><path d="M4 6v14a2 2 0 0 0 2 2h14"/></svg>
        </span>
        Learning / Content
      </a>
      <a class="admin-nav-link" href="{% url 'admin_portal:job_list' %}?status=flagged">
        <span class="nav-icon" aria-hidden="true">
          <svg viewBox="0 0 24 24"><path d="M12 3l9 16H3z"/><path d="M12 9v4"/><path d="M12 17h.01"/></svg>
        </span>
        Reports &amp; Flags
        {% if reports_flags_count %}
          <span class="admin-badge">{{ reports_flags_count }}</span>
        {% endif %}
      </a>
      <a class="admin-nav-link" href="{% url 'admin_portal:audit_log' %}">
        <span class="nav-icon" aria-hidden="true">
          <svg viewBox="0 0 24 24"><rect x="4" y="3" width="16" height="18" rx="2"/><path d="M8 7h8M8 11h8M8 15h6"/></svg>
        </span>
        Audit Log
      </a>
      <a class="admin-nav-link" href="{% url 'settings' %}">
        <span class="nav-icon" aria-hidden="true">
          <svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a7.9 7.9 0 0 0 .1-2l2-1.2-2-3.4-2.3.5a7.7 7.7 0 0 0-1.7-1l-.3-2.4h-4l-.3 2.4a7.7 7.7 0 0 0-1.7 1l-2.3-.5-2 3.4 2 1.2a7.9 7.9 0 0 0 .1 2l-2 1.2 2 3.4 2.3-.5a7.7 7.7 0 0 0 1.7 1l.3 2.4h4l.3-2.4a7.7 7.7 0 0 0 1.7-1l2.3.5 2-3.4z"/></svg>
        </span>
        Settings
      </a>
      {% endwith %}
    </nav>
    <div class="admin-sidebar-footer">ReRoute Admin v1.0</div>
  </aside>

  <main class="admin-main">
    {% block admin_content %}{% endblock %}
  </main>
</div>

<div id="confirmModal" class="rr-modal" aria-hidden="true">
  <div class="rr-modal__dialog" role="dialog" aria-modal="true" aria-labelledby="confirmModalTitle">
    <h3 id="confirmModalTitle">Please Confirm</h3>
    <p id="confirmModalMessage">Are you sure?</p>
    <div class="rr-modal__actions">
      <button type="button" id="confirmCancel" class="btn btn-secondary">Cancel</button>
      <button type="button" id="confirmOk" class="btn btn-primary">Confirm</button>
    </div>
  </div>
  <button type="button" class="rr-modal__backdrop" aria-label="Close"></button>
</div>
{% endblock %}
