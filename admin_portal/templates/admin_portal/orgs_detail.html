{% extends "admin_portal/base.html" %}

{% block admin_content %}
<section class="admin-section">
  <div class="admin-section-header">
    <div class="admin-section-title">Organization Details</div>
    <a class="admin-btn ghost" href="{% url 'admin_portal:org_list' %}">Back to Organizations</a>
  </div>
  <table class="admin-table">
    <tr><th>Name</th><td>{{ org.name }}</td></tr>
    <tr><th>Category</th><td>{{ org.get_category_display }}</td></tr>
    <tr>
      <th>Status</th>
      <td>
        {% if not org.is_active %}
          Inactive
        {% elif org.is_verified %}
          Verified
        {% else %}
          Pending
        {% endif %}
      </td>
    </tr>
    <tr><th>Address</th><td>{{ org.address_line }}</td></tr>
    <tr><th>Neighborhood</th><td>{{ org.neighborhood|default:"—" }}</td></tr>
    <tr><th>ZIP</th><td>{{ org.zip_code|default:"—" }}</td></tr>
    <tr><th>Phone</th><td>{{ org.phone|default:"—" }}</td></tr>
    <tr><th>Website</th><td>{{ org.website|default:"—" }}</td></tr>
    <tr><th>Overview</th><td>{{ org.overview|default:"—" }}</td></tr>
  </table>

  <div style="margin-top:16px; display:flex; gap:12px; flex-wrap:wrap;">
    <a class="admin-btn primary" href="{% url 'admin_portal:org_edit' org.id %}">Edit</a>
    <a class="admin-btn ghost" href="{% url 'admin_portal:org_delete' org.id %}">Archive / Delete</a>
  </div>
</section>

<section class="admin-section">
  <div class="admin-section-header">
    <div class="admin-section-title">Audit History</div>
  </div>
  {% if audit_logs %}
  <div class="admin-feed">
    {% for log in audit_logs %}
    <div class="admin-feed-item">
      <div>
        <strong>{{ log.action|title }}</strong>
        <p>{{ log.object_repr }}</p>
      </div>
      <span class="admin-list-time">{{ log.created_at|date:"M d, g:ia" }}</span>
    </div>
    {% endfor %}
  </div>
  {% else %}
  <p class="admin-subtitle">No audit activity yet.</p>
  {% endif %}
</section>
{% endblock %}
